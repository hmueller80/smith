<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/template.xhtml">

	<ui:define name="runDetails">

		<h:form id="rundetailsForm">
		
			<div class="ui-g">
				<div class="ui-g-4" />
				<div class="ui-g-4">
					<h:outputText value="Details for run #{singleRunBean.runId}"
						styleClass="run-detail-title" />
				</div>
				<div class="ui-g-4">
					<p:commandButton style="float:right;margin:1px" value="Delete Run"
						icon="ui-icon-trash"
						rendered="#{singleRunBean.roleManager.hasRunAddPermission}"
						action="#{singleRunBean.deleteRun}" />

				</div>
			</div>
			
			<p:separator />
			

			<h:panelGrid columns="2" cellpadding="3">
				<h:outputLabel for="flowcell" value="Flowcell: " style="font-family: 'sysbold';"/>
				<h:outputText style="font-family: 'sysbold';" id="flowcell" value="#{singleRunBean.flowcell}" />
				
				<h:outputLabel for="runFolder" value="Run Folder: "/>
				<h:outputText id="runFolder" value="#{singleRunBean.runFolder}" />
				
				<h:outputLabel for="operator" value="Operator: "/>
				<h:outputText id="operator" value="#{singleRunBean.operator.login}" />
			</h:panelGrid>
			
			<p:separator />


			<p:dataTable var="sampleRun" value="#{singleRunBean.allSamples}"
				sortBy="#{sampleRun.lane}" expandableRowGroups="true">
				<p:headerRow>
					<p:column colspan="6">
						<h:outputText value="Lane #{sampleRun.lane}" />
					</p:column>
				</p:headerRow>
				<p:column headerText="Library" groupRow="true">
					<h:outputText value="#{sampleRun.libraryName}" />
				</p:column>
				<p:column headerText="Index">
					<h:outputText value="#{sampleRun.sample.index.index}" />
				</p:column>
				<p:column headerText="Sample Id">
					<h:commandLink action="#{singleSampleBean.loadId}"
						value="#{sampleRun.sample.id}">
						<f:param name="sid" value="#{sampleRun.sample.id}" />
					</h:commandLink>
				</p:column>
				<p:column headerText="Sample Submission Id">
					<h:outputText value="#{sampleRun.sample.submissionId}" />
				</p:column>
				<p:column headerText="Sample Name">
					<h:outputText value="#{sampleRun.sample.name}" />
				</p:column>
				<p:column headerText="Requestor">
					<h:outputText value="#{sampleRun.sample.user.userName}" />
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
